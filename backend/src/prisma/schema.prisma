generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
}

model User {
    id                Int      @id @default(autoincrement())
    email             String   @unique
    password          String?
    googleId          String?  @unique
    name              String?
    apiKey            String?  @unique
    urls              Url[]
    isVerified        Boolean  @default(false)
    verificationToken String?  @unique
    passwordResetToken String? @unique
    passwordResetExpiresAt DateTime?
    createdAt         DateTime @default(now())
    updatedAt         DateTime @updatedAt
}

model Url {
    id          Int      @id @default(autoincrement())
    originalUrl String
    shortId     String   @unique
    clicks      Int      @default(0)
    userId      Int?
    user        User?    @relation(fields: [userId], references: [id])
    createdAt   DateTime @default(now())
    updatedAt   DateTime @updatedAt
}
